document.addEventListener("DOMContentLoaded",function(){GLightbox({selector:"img[data-glightbox]"});document.querySelectorAll("img.glightbox").forEach(e=>{e.onclick=function(){GLightbox({elements:[{href:this.src}]}).open()}});let t=document.querySelector(".header__burger");var e=document.querySelector(".header__cross");let n=document.querySelector(".header__menu");function l(){n.style.display="none",document.removeEventListener("click",o)}function o(e){n.contains(e.target)||t.contains(e.target)||l()}t.addEventListener("click",function(){n.style.display="flex",document.addEventListener("click",o)}),e.addEventListener("click",l);e=document.querySelector(".section_see-more");let s=document.querySelector(".projects--none"),i=document.getElementById("check"),c=document.getElementById("section_see-more-text"),d=(e.addEventListener("click",function(){"none"===getComputedStyle(s).display&&"Посмотреть ещё 3 проекта"===c.textContent?(s.style.display="flex",c.textContent="Скрыть"):(s.style.display="none",c.textContent="Посмотреть ещё 3 проекта"),"rotate(180deg)"===i.style.transform?i.style.transform="":i.style.transform="rotate(180deg)"}),document.querySelector(".section2_circl-1")),y=document.getElementById("section2__text-1"),r=document.querySelector(".section2_circl-2"),a=document.getElementById("section2__text-2"),p=document.querySelector(".section2_circl-3"),u=document.getElementById("section2__text-3"),m=document.querySelector(".section2_circl-4"),f=document.getElementById("section2__text-4"),h=document.querySelector(".section2_circl-5"),g=document.getElementById("section2__text-5"),k=document.querySelector(".section2__square");function _(){if(window.innerWidth<=949&&510<=window.innerWidth)d.addEventListener("click",function(){y&&(y.style.display="block",a.style.display="none",u.style.display="none",f.style.display="none",g.style.display="none",k.style.left="114px")}),r.addEventListener("click",function(){a&&(a.style.display="block",y.style.display="none",u.style.display="none",f.style.display="none",g.style.display="none",k.style.left="57px")}),p.addEventListener("click",function(){u&&(u.style.display="block",y.style.display="none",a.style.display="none",f.style.display="none",g.style.display="none",k.style.left="165px")}),m.addEventListener("click",function(){f&&(f.style.display="block",y.style.display="none",a.style.display="none",u.style.display="none",g.style.display="none",k.style.left="293px")}),h.addEventListener("click",function(){g&&(g.style.display="block",y.style.display="none",a.style.display="none",u.style.display="none",f.style.display="none",k.style.left="368px")}),console.log("Код выполняется при ширине экрана 950px или меньше");else if(window.innerWidth<510&&424<=window.innerWidth)d.addEventListener("click",function(){y&&(y.style.display="block",a.style.display="none",u.style.display="none",f.style.display="none",g.style.display="none",k.style.left="86px")}),r.addEventListener("click",function(){a&&(a.style.display="block",y.style.display="none",u.style.display="none",f.style.display="none",g.style.display="none",k.style.left="44px")}),p.addEventListener("click",function(){u&&(u.style.display="block",y.style.display="none",a.style.display="none",f.style.display="none",g.style.display="none",k.style.left="133px")}),m.addEventListener("click",function(){f&&(f.style.display="block",y.style.display="none",a.style.display="none",u.style.display="none",g.style.display="none",k.style.left="239px")}),h.addEventListener("click",function(){g&&(g.style.display="block",y.style.display="none",a.style.display="none",u.style.display="none",f.style.display="none",k.style.left="303px")}),console.log("Код выполняется при ширине экрана 510px или меньше");else if(window.innerWidth<424){let e=document.querySelector(".section2__rectangle");d.addEventListener("click",function(){y&&(y.style.display="block",a.style.display="none",u.style.display="none",f.style.display="none",g.style.display="none",k.style.left="79px",e.style.height="137px")}),r.addEventListener("click",function(){a&&(a.style.display="block",y.style.display="none",u.style.display="none",f.style.display="none",g.style.display="none",k.style.left="36px",e.style.height="137px")}),p.addEventListener("click",function(){u&&(u.style.display="block",y.style.display="none",a.style.display="none",f.style.display="none",g.style.display="none",k.style.left="108px",e.style.height="156px")}),m.addEventListener("click",function(){f&&(f.style.display="block",y.style.display="none",a.style.display="none",u.style.display="none",g.style.display="none",k.style.left="190px",e.style.height="137px")}),h.addEventListener("click",function(){g&&(g.style.display="block",y.style.display="none",a.style.display="none",u.style.display="none",f.style.display="none",k.style.left="241px",e.style.height="137px")}),console.log("Код выполняется при ширине экрана САМЫЙ МАЛЕНЬКИЙ или меньше");return}}_(),window.addEventListener("resize",_);let E=Array.from(document.querySelectorAll(".section4__carousel--photo")),v=E.findIndex(e=>"carousel__active"===e.id),x=(-1===v&&(v=0,E[v].id="carousel__active"),Array.from(document.querySelectorAll(".section4__carousel--circles div")));function b(){var e=E.length,t=(v-1+e)%e,e=(v+1)%e,t=(E.forEach(e=>{e.id="",e.children[0].style.width="",e.children[0].style.height="",e.children[0].nextElementSibling&&(e.children[0].nextElementSibling.style.display="")}),E[v].id="carousel__active",E[t].id="section4__carousel--left",E[e].id="section4__carousel--right",window.innerWidth),e=E[v].children;0<e.length&&(868<t?(e[0].style.width="588px",e[0].style.height="342px"):767<=t&&(e[0].style.width="521px",e[0].style.height="303px"),e[0].nextElementSibling.style.display="flex"),x.forEach(e=>{e.id=""}),x[v].id="circles--background"}function S(){v=(v-1+E.length)%E.length,b()}function L(){v=(v+1)%E.length,b()}b();var e=document.querySelector(".section4__left"),q=document.querySelector(".section4__right");e&&e.addEventListener("click",S),q&&q.addEventListener("click",L);let w=0,I=0;e=document.querySelector(".section4__container");function j(){document.querySelector(".section6").scrollIntoView({behavior:"smooth"})}e&&(e.addEventListener("touchstart",function(e){w=e.touches[0].clientX}),e.addEventListener("touchmove",function(e){I=e.touches[0].clientX}),e.addEventListener("touchend",function(){50<w-I?L():50<I-w&&S()}));q=document.getElementById("button_moredetails"),e=document.querySelectorAll(".button_consultation");function D(){var e=document.createElement("a");e.href="https://avidreaders.ru/api/get.php?b=353742&f=epub",e.download="",e.click()}q.addEventListener("click",j),e.forEach(function(e){e.addEventListener("click",j)});document.querySelectorAll(".button--transparent").forEach(function(e){e.addEventListener("click",D)}),(new WOW).init(),$(document).ready(function(){$(".image-link").magnificPopup({type:"image"})}),$(".parent-container").magnificPopup({delegate:"a",type:"image"});q=document.getElementById("consultationForm");let B=q.querySelector('input[name="name"]'),C=q.querySelector('input[name="phone"]'),W=q.querySelector('input[name="agreement"]');e=document.getElementById("label");let F=q.querySelector(".form__check"),G=B.nextElementSibling,M=C.nextElementSibling,A=q.querySelector(".agreement-error");q=q.querySelector("button.section6__button");let T="https://testologia.ru/checkout?name="+B.value,O=(q.addEventListener("click",function(){let e=!0;""===B.value.trim()?(B.style.borderColor="red",G.style.display="block",e=!1):(B.style.borderColor="",G.style.display="none"),""===C.value.trim()?(C.style.borderColor="red",M.style.display="block",e=!1):(C.style.borderColor="",M.style.display="none"),W.checked?A.style.display="none":(A.style.display="block",e=!1),e&&$.ajax({method:"POST",url:T,data:{name:B.value}}).done(function(e){var t=$("#consultationForm");e.success&&e.hasOwnProperty("success")?(t.css("display","none"),$(".section6__forms").children().first().text("Спасибо, мы свяжемся с вами в ближайшее время!")):alert("Некорректные данные")})}),e.addEventListener("click",function(e){e.preventDefault(),W.checked=!W.checked,F.style.display=W.checked?"block":"none",A.style.display=W.checked?"none":"block"}),document.querySelector(".overlay"));q=document.querySelector(".popap img");let P=document.getElementById("name_popap"),X=document.getElementById("tel_popap"),z=document.querySelector(".button_popap"),H=document.querySelector("#name_popap + .error-message_popap"),J=document.querySelector("#tel_popap + .error-message_popap");document.getElementById("section7__button").addEventListener("click",function(){O.style.display="flex"}),q.addEventListener("click",function(){O.style.display="none"}),O.addEventListener("click",function(e){e.target===O&&(O.style.display="none")}),z.addEventListener("click",function(){let e=!0;if(""===P.value.trim()?(P.style.borderColor="red",H.style.display="block",e=!1):(P.style.borderColor="",H.style.display="none"),""===X.value.trim()?(X.style.borderColor="red",J.style.display="block",e=!1):(X.style.borderColor="",J.style.display="none"),e){var n="https://testologia.ru/checkout?name="+B.value;let t=new XMLHttpRequest;t.open("post",n),t.send(),t.onreadystatechange=function(){if(4===t.readyState&&200===t.status){let e=null;try{e=JSON.parse(t.responseText)}catch(e){}e&&e.success&&e.hasOwnProperty("success")?(P.style.display="none",X.style.display="none",z.style.display="none",document.getElementById("h3").textContent="Спасибо, мы свяжемся с вами в ближайшее время!"):alert("Некорректные данные")}}}})});